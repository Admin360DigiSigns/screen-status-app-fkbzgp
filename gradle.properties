
# Project-wide Gradle settings for Expo/React Native

# Specifies the JVM arguments used for the daemon process.
# MAXIMIZED MEMORY ALLOCATION for APK build - INCREASED FOR INITIAL RELEASE
org.gradle.jvmargs=-Xmx10240m -XX:MaxMetaspaceSize=4096m -XX:ReservedCodeCacheSize=2048m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8 -Dorg.gradle.daemon=true -XX:+UseG1GC

# Enable parallel builds
org.gradle.parallel=true

# Configure Gradle daemon to use more workers
org.gradle.workers.max=4

# Enable configuration cache
org.gradle.configuration-cache=true

# Enable build cache
org.gradle.caching=true

# AndroidX
android.useAndroidX=true
android.enableJetifier=true

# Kotlin compiler memory settings (critical for KSP) - INCREASED
kotlin.daemon.jvmargs=-Xmx6144m -XX:MaxMetaspaceSize=3072m -XX:ReservedCodeCacheSize=1024m -XX:+UseG1GC

# Disable R8 full mode to save memory
android.enableR8.fullMode=false

# Increase daemon idle timeout
org.gradle.daemon.idletimeout=3600000

# Additional Kapt memory settings - INCREASED
org.gradle.jvmargs.kapt=-Xmx6144m -XX:MaxMetaspaceSize=3072m

# Optimize Dex in process
android.enableDexingArtifactTransform=false

# Disable unnecessary features to save memory
android.enableBuildCache=true
android.enableD8.desugaring=true
