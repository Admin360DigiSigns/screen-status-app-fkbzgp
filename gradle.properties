
# Project-wide Gradle settings for Expo/React Native

# Specifies the JVM arguments used for the daemon process.
# MAXIMIZED MEMORY ALLOCATION for APK build
org.gradle.jvmargs=-Xmx8192m -XX:MaxMetaspaceSize=4096m -XX:ReservedCodeCacheSize=1024m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8 -Dorg.gradle.daemon=true -XX:+UseG1GC -XX:MetaspaceSize=512m

# Enable parallel builds
org.gradle.parallel=true

# Configure Gradle daemon to use more workers
org.gradle.workers.max=4

# Enable configuration cache
org.gradle.configuration-cache=false

# Enable build cache
org.gradle.caching=true

# AndroidX
android.useAndroidX=true
android.enableJetifier=true

# Kotlin compiler memory settings (critical for KSP)
kotlin.daemon.jvmargs=-Xmx4096m -XX:MaxMetaspaceSize=2048m -XX:ReservedCodeCacheSize=512m -XX:+UseG1GC -XX:MetaspaceSize=256m

# Disable R8 full mode to save memory
android.enableR8.fullMode=false

# Increase daemon idle timeout
org.gradle.daemon.idletimeout=3600000

# Disable unnecessary lint checks to save memory
android.enableLint=false

# Disable unit tests during build
android.enableUnitTestBinaryResources=false

# Build only specific architectures to save memory
reactNativeArchitectures=armeabi-v7a,arm64-v8a

# Disable New Architecture to save memory
newArchEnabled=false

# Disable Hermes debugger to save memory during build
hermesEnabled=true
